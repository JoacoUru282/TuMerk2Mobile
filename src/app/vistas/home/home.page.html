<ion-header [translucent]="false">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <app-sidebar></app-sidebar>


  <ion-grid class="container">
    <div class="centered-container">
      <h1 class="shadowed-heading">Ofertas del local</h1>
    </div>
    <ion-row>
      <ion-col size="12" size-md="6" size-lg="6" *ngFor="let producto of productosDescuento" >
        <ion-card class="card">
          <div class="product-container">
            <ion-avatar (click)="onProductoClick(producto)">
              <img src="data:image/png;base64,{{producto!.imagen}}" alt="Image" class="imagen">
            </ion-avatar>
            <ion-col size="6">
              <div class="product-info">
                <p class="nombreProducto"><strong>{{ producto.nombre }}</strong></p>
                <p class="precionFinal" *ngIf="producto.promocion"><s>${{ producto.precio }}</s> ${{calcularPreciofinal(producto.precio,producto.promocion.porcentajeDescuento)}}</p>
              </div>
            </ion-col>
            <ion-col size="4" class="ion-text-right">
              <ion-button fill="clear" (click)="agregarProductoCarrito(producto)">
                <ion-icon name="add" size="large"></ion-icon>
              </ion-button>
            </ion-col>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div>
    <ion-fab horizontal="end" slot="fixed">
      <ion-fab-button (click)="goVerCarrito()">
        <ion-icon name="cart"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </div>
  <div>
    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <a href="https://wa.me/094024742?text=Hola,%20tengo%20una%20duda." target="_blank" class="WhatsApp">
        <img src="./assets/pngtree-whatsapp-mobile-software-icon-png-image_6315991.png" alt="WhatsApp" style="width: 40px; height: 40px;">
      </a>
    </ion-fab>
  </div>
</ion-content>